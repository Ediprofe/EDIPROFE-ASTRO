---
import BaseLayout from '../layouts/BaseLayout.astro';
import LessonCard from '../components/Content/LessonCard.astro';
import ThemeToggle from '../components/UI/ThemeToggle.astro';
import { getCollection } from 'astro:content';
import { buildNavigationFromLessonsWithCollection, mergeNavigations } from '../utils/navigation-generator.js';
import { allMeta } from '../utils/load-meta.js';

// Obtener navegaci√≥n de cada colecci√≥n
let navigation: any = {};
let allLessonsWithMateria: any[] = [];

try {
  const matematicas = await getCollection('matematicas');
  const navMat = buildNavigationFromLessonsWithCollection(matematicas, 'matematicas', allMeta);
  navigation = mergeNavigations(navigation, navMat);
  matematicas.forEach(l => allLessonsWithMateria.push({ ...l, materia: 'matematicas' }));
} catch (e) {}

try {
  const fisica = await getCollection('fisica');
  const navFis = buildNavigationFromLessonsWithCollection(fisica, 'fisica', allMeta);
  navigation = mergeNavigations(navigation, navFis);
  fisica.forEach(l => allLessonsWithMateria.push({ ...l, materia: 'fisica' }));
} catch (e) {}

try {
  const quimica = await getCollection('quimica');
  const navQui = buildNavigationFromLessonsWithCollection(quimica, 'quimica', allMeta);
  navigation = mergeNavigations(navigation, navQui);
  quimica.forEach(l => allLessonsWithMateria.push({ ...l, materia: 'quimica' }));
} catch (e) {}

try {
  const ciencias = await getCollection('ciencias');
  const navCie = buildNavigationFromLessonsWithCollection(ciencias, 'ciencias', allMeta);
  navigation = mergeNavigations(navigation, navCie);
  ciencias.forEach(l => allLessonsWithMateria.push({ ...l, materia: 'ciencias' }));
} catch (e) {}

// Obtener materias disponibles (solo las que tienen al menos 1 lecci√≥n)
const materias = Object.entries(navigation)
  .map(([key, value]: [string, any]) => ({
    slug: key,
    name: value.name,
    lessonCount: Object.values(value.unidades).reduce((acc: number, unidad: any) => {
      return acc + Object.values(unidad.bloques).reduce((acc2: number, bloque: any) => {
        return acc2 + bloque.lecciones.length;
      }, 0);
    }, 0)
  }))
  .filter(materia => materia.lessonCount > 0);

const materiaIcons: Record<string, string> = {
  matematicas: 'üßÆ',
  fisica: 'üöÄ',
  quimica: '‚öõÔ∏è',
  ciencias: 'üåç',
};
---

<BaseLayout title="Inicio">
  <div class="home-container">
    <!-- Hero Section con dise√±o premium -->
    <header class="hero">
      <div class="hero-bg-elements">
        <div class="hero-orb hero-orb-1"></div>
        <div class="hero-orb hero-orb-2"></div>
        <div class="hero-orb hero-orb-3"></div>
        <div class="hero-grid"></div>
      </div>
      
      <div class="hero-content">
        <div class="hero-badge">
          <span class="badge-icon">üéì</span>
          <span class="badge-text">Ediprofe.com</span>
          <span class="badge-dot"></span>
        </div>
        
        <h1 class="hero-title">
          Gu√≠a Educativa para <span class="title-highlight">Ciencias y Matem√°ticas</span>
        </h1>
        
        <!-- Redes Sociales -->
        <div class="hero-social">
          <a href="https://www.youtube.com/profeedi" target="_blank" rel="noopener noreferrer" class="social-link social-youtube" aria-label="YouTube">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
            <span>YouTube</span>
          </a>
          <a href="https://www.tiktok.com/@ediprofe" target="_blank" rel="noopener noreferrer" class="social-link social-tiktok" aria-label="TikTok">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/>
            </svg>
            <span>TikTok</span>
          </a>
        </div>
        
        <p class="hero-subtitle">
          Contenido estructurado con videos explicativos, ejercicios pr√°cticos y recursos descargables. Aprende a tu ritmo con lecciones dise√±adas para maximizar tu comprensi√≥n.
        </p>
        
        <div class="hero-cta">
          <a href="#materias" class="btn-primary">
            <span>Comenzar Ahora</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </a>
          <a href="#recientes" class="btn-secondary">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="5 3 19 12 5 21 5 3"/>
            </svg>
            <span>Ver Lecciones</span>
          </a>
        </div>
        
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number">{materias.length}</span>
            <span class="stat-label">Materias</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">{allLessonsWithMateria.length}+</span>
            <span class="stat-label">Lecciones</span>
          </div>
          <div class="stat-divider"></div>
          <div class="stat-item">
            <span class="stat-number">‚àû</span>
            <span class="stat-label">Recursos</span>
          </div>
        </div>
      </div>
    </header>

    <main class="main-content">
      {materias.length > 0 ? (
        <section class="materias-section" id="materias">
          <div class="section-header">
            <span class="section-badge">Explora</span>
            <h2 class="section-title">Materias Disponibles</h2>
            <p class="section-desc">Elige tu √°rea de estudio y comienza tu viaje de aprendizaje</p>
          </div>
          
          <div class="materias-grid">
            {materias.map((materia, index) => (
              <a href={`/${materia.slug}`} class={`materia-card materia-card-${materia.slug}`} style={`--delay: ${index * 0.1}s`}>
                <div class="card-glow"></div>
                <div class="card-content">
                  <div class="materia-header">
                    <div class="materia-icon-wrapper">
                      <span class="materia-icon">{materiaIcons[materia.slug] || 'üìñ'}</span>
                    </div>
                    <div class="materia-badge">
                      <span class="lesson-count">{materia.lessonCount}</span>
                      <span class="lesson-label">{materia.lessonCount === 1 ? 'lecci√≥n' : 'lecciones'}</span>
                    </div>
                  </div>
                  
                  <div class="materia-body">
                    <h3 class="materia-name">{materia.name}</h3>
                    <p class="materia-desc">
                      {materia.slug === 'matematicas' && '√Ålgebra, geometr√≠a, c√°lculo y m√°s'}
                      {materia.slug === 'fisica' && 'Mec√°nica, ondas, termodin√°mica'}
                      {materia.slug === 'quimica' && 'Qu√≠mica general y org√°nica'}
                      {materia.slug === 'ciencias' && 'Biolog√≠a y ciencias naturales'}
                    </p>
                  </div>
                  
                  <div class="materia-footer">
                    <span class="explore-text">Explorar materia</span>
                    <span class="explore-arrow">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                      </svg>
                    </span>
                  </div>
                </div>
                <div class="card-border"></div>
              </a>
            ))}
          </div>
        </section>
      ) : (
        <section class="empty-state">
          <div class="empty-icon">üìù</div>
          <h2>¬°Bienvenido!</h2>
          <p>A√∫n no hay contenido disponible.</p>
          <div class="empty-instructions">
            <h3>Para comenzar:</h3>
            <ol>
              <li>Crea carpetas en <code>src/content/</code> siguiendo la estructura:
                <pre>matematicas/algebra/bloque-01-fundamentos/01-introduccion.md</pre>
              </li>
              <li>Escribe tu contenido en Markdown con f√≥rmulas LaTeX</li>
              <li>Ejecuta <code>npm run dev</code> para ver los cambios</li>
            </ol>
          </div>
        </section>
      )}
    </main>

    <footer class="footer">
      <div class="footer-bg"></div>
      <div class="footer-content">
        <div class="footer-main">
          <div class="footer-brand">
            <div class="footer-logo-wrapper">
              <span class="footer-logo">üéì</span>
            </div>
            <div class="footer-brand-text">
              <span class="footer-name">Ediprofe</span>
              <span class="footer-tagline">Tu gu√≠a educativa</span>
            </div>
          </div>
          <p class="footer-desc">Plataforma educativa para el aprendizaje de ciencias y matem√°ticas con contenido de calidad.</p>
        </div>
        <div class="footer-bottom">
          <p class="footer-copyright">¬© 2025 Ediprofe. Todos los derechos reservados.</p>
          <div class="footer-links">
            <a href="#materias">Materias</a>
          </div>
        </div>
      </div>
    </footer>
  </div>
  
  <ThemeToggle />
</BaseLayout>

<style>
  /* ========================================
     DISE√ëO PROFESIONAL - EDIPROFE
     ======================================== */
  
  .home-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--bg-primary);
  }

  /* ========================================
     HERO SECTION - PREMIUM DESIGN
     ======================================== */
  
  .hero {
    background: linear-gradient(135deg, #0a0f1a 0%, #0f172a 30%, #1e3a5f 70%, #1d4ed8 100%);
    color: white;
    padding: 4rem 1.5rem 5rem;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .hero-bg-elements {
    position: absolute;
    inset: 0;
    pointer-events: none;
    overflow: hidden;
  }

  .hero-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    animation: float 20s ease-in-out infinite;
  }

  .hero-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.4) 0%, transparent 70%);
    top: -20%;
    right: -10%;
    animation-delay: 0s;
  }

  .hero-orb-2 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(251, 191, 36, 0.2) 0%, transparent 70%);
    bottom: -10%;
    left: -5%;
    animation-delay: -7s;
  }

  .hero-orb-3 {
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.25) 0%, transparent 70%);
    top: 40%;
    left: 20%;
    animation-delay: -14s;
  }

  @keyframes float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(20px, -30px) scale(1.05); }
    50% { transform: translate(-10px, 20px) scale(0.95); }
    75% { transform: translate(-30px, -10px) scale(1.02); }
  }

  .hero-grid {
    position: absolute;
    inset: 0;
    background-image: 
      linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse 80% 80% at 50% 50%, black 40%, transparent 100%);
  }

  .hero-content {
    max-width: 1100px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
    padding: 0 1rem;
  }

  /* Hero Badge */
  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    padding: 0.5rem 1rem;
    border-radius: 100px;
    margin-bottom: 1.5rem;
    border: 1px solid rgba(255,255,255,0.12);
    animation: fadeInUp 0.6s ease-out;
  }

  .badge-icon {
    font-size: 1.25rem;
  }

  .badge-text {
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.02em;
  }

  .badge-dot {
    width: 8px;
    height: 8px;
    background: #22c55e;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(0.8); }
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Hero Title */
  .hero-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    font-weight: 800;
    margin: 0 0 1.25rem 0;
    line-height: 1.15;
    letter-spacing: -0.02em;
    animation: fadeInUp 0.6s ease-out 0.1s backwards;
  }

  .title-highlight {
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #fbbf24 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 3s linear infinite;
  }

  @keyframes shimmer {
    0% { background-position: 0% center; }
    100% { background-position: 200% center; }
  }

  /* Hero Social Links */
  .hero-social {
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    margin-bottom: 1.25rem;
    animation: fadeInUp 0.6s ease-out 0.15s backwards;
  }

  .social-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 100px;
    font-size: 0.8125rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid transparent;
  }

  .social-youtube {
    background: rgba(255, 0, 0, 0.15);
    color: #ff4444;
    border-color: rgba(255, 0, 0, 0.25);
  }

  .social-youtube:hover {
    background: #ff0000;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 0, 0, 0.35);
    text-decoration: none;
  }

  .social-tiktok {
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border-color: rgba(255, 255, 255, 0.2);
  }

  .social-tiktok:hover {
    background: white;
    color: #000;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.25);
    text-decoration: none;
  }

  .hero-subtitle {
    font-size: 1.1875rem;
    opacity: 0.85;
    margin: 0 auto 2.5rem auto;
    max-width: 800px;
    line-height: 1.75;
    animation: fadeInUp 0.6s ease-out 0.2s backwards;
  }

  /* Hero CTA */
  .hero-cta {
    display: flex;
    justify-content: center;
    gap: 1.25rem;
    flex-wrap: wrap;
    margin-bottom: 3rem;
    animation: fadeInUp 0.6s ease-out 0.3s backwards;
  }

  .btn-primary {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1.125rem 2.5rem;
    background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
    color: #1e293b;
    font-weight: 700;
    font-size: 1.0625rem;
    border-radius: 14px;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
      0 4px 14px rgba(251, 191, 36, 0.35),
      0 0 0 0 rgba(251, 191, 36, 0.4);
    position: relative;
    overflow: hidden;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #fcd34d 0%, #fbbf24 100%);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 
      0 8px 25px rgba(251, 191, 36, 0.45),
      0 0 0 4px rgba(251, 191, 36, 0.15);
    text-decoration: none;
  }

  .btn-primary:hover::before {
    opacity: 1;
  }

  .btn-primary span,
  .btn-primary svg {
    position: relative;
    z-index: 1;
  }

  .btn-primary svg {
    transition: transform 0.3s;
  }

  .btn-primary:hover svg {
    transform: translateX(4px);
  }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1.125rem 2.5rem;
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(8px);
    color: white;
    font-weight: 600;
    font-size: 1.0625rem;
    border-radius: 14px;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(255,255,255,0.15);
  }

  .btn-secondary:hover {
    background: rgba(255,255,255,0.12);
    border-color: rgba(255,255,255,0.25);
    transform: translateY(-2px);
    text-decoration: none;
  }

  /* Hero Stats */
  .hero-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
    background: rgba(255,255,255,0.06);
    backdrop-filter: blur(12px);
    padding: 2rem 4rem;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,0.1);
    animation: fadeInUp 0.6s ease-out 0.4s backwards;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
  }

  .stat-item {
    text-align: center;
    flex: 1;
  }

  .stat-number {
    display: block;
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #fff 0%, rgba(255,255,255,0.8) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
    margin-bottom: 0.5rem;
  }

  .stat-label {
    font-size: 0.9375rem;
    opacity: 0.75;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-weight: 500;
  }

  .stat-divider {
    width: 1px;
    height: 60px;
    background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.35), transparent);
  }

  /* ========================================
     MAIN CONTENT
     ======================================== */
  
  .main-content {
    flex: 1;
    max-width: 1200px;
    margin: 0 auto;
    padding: 4rem 2rem;
    width: 100%;
  }

  /* Section Header */
  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .section-badge {
    display: inline-block;
    padding: 0.375rem 1rem;
    background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(59, 130, 246, 0.05));
    color: var(--color-primary);
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    border-radius: 100px;
    margin-bottom: 1rem;
    border: 1px solid rgba(37, 99, 235, 0.15);
  }

  :global(html.dark) .section-badge {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1));
    border-color: rgba(59, 130, 246, 0.3);
  }

  .section-title {
    font-size: 2.25rem;
    font-weight: 800;
    color: var(--text-primary);
    margin: 0 0 0.75rem 0;
    letter-spacing: -0.02em;
  }

  .section-desc {
    color: var(--text-secondary);
    font-size: 1.0625rem;
    margin: 0;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
  }

  /* ========================================
     MATERIAS CARDS - PREMIUM DESIGN
     ======================================== */
  
  .materias-section {
    margin-bottom: 5rem;
  }

  .materias-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }

  .materia-card {
    position: relative;
    display: block;
    padding: 2rem;
    background: var(--bg-secondary);
    border-radius: 20px;
    text-decoration: none;
    color: var(--text-primary);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    animation: fadeInUp 0.5s ease-out calc(var(--delay, 0s)) backwards;
  }

  .card-glow {
    position: absolute;
    top: -100px;
    right: -100px;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.4s;
    pointer-events: none;
  }

  .materia-card-matematicas .card-glow { background: radial-gradient(circle, rgba(239, 68, 68, 0.2) 0%, transparent 70%); }
  .materia-card-fisica .card-glow { background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%); }
  .materia-card-quimica .card-glow { background: radial-gradient(circle, rgba(168, 85, 247, 0.2) 0%, transparent 70%); }
  .materia-card-ciencias .card-glow { background: radial-gradient(circle, rgba(34, 197, 94, 0.2) 0%, transparent 70%); }

  .materia-card:hover .card-glow {
    opacity: 1;
  }

  .card-content {
    position: relative;
    z-index: 1;
  }

  .card-border {
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 2px;
    background: linear-gradient(135deg, transparent 0%, transparent 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s;
    pointer-events: none;
  }

  .materia-card-matematicas .card-border { background: linear-gradient(135deg, #ef4444, #f97316); }
  .materia-card-fisica .card-border { background: linear-gradient(135deg, #3b82f6, #06b6d4); }
  .materia-card-quimica .card-border { background: linear-gradient(135deg, #a855f7, #ec4899); }
  .materia-card-ciencias .card-border { background: linear-gradient(135deg, #22c55e, #10b981); }

  .materia-card:hover .card-border {
    opacity: 1;
  }

  .materia-card:hover {
    transform: translateY(-8px);
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(0, 0, 0, 0.05);
    text-decoration: none;
  }

  :global(html.dark) .materia-card {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(255,255,255,0.06);
  }

  :global(html.dark) .materia-card:hover {
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Materia Header */
  .materia-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1.5rem;
  }

  .materia-icon-wrapper {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 16px;
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .materia-card-matematicas .materia-icon-wrapper { 
    background: linear-gradient(135deg, #ef4444, #dc2626);
    box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
  }
  .materia-card-fisica .materia-icon-wrapper { 
    background: linear-gradient(135deg, #3b82f6, #2563eb);
    box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
  }
  .materia-card-quimica .materia-icon-wrapper { 
    background: linear-gradient(135deg, #a855f7, #9333ea);
    box-shadow: 0 8px 20px rgba(168, 85, 247, 0.3);
  }
  .materia-card-ciencias .materia-icon-wrapper { 
    background: linear-gradient(135deg, #22c55e, #16a34a);
    box-shadow: 0 8px 20px rgba(34, 197, 94, 0.3);
  }

  .materia-card:hover .materia-icon-wrapper {
    transform: scale(1.1) rotate(-5deg);
  }

  .materia-icon {
    font-size: 1.75rem;
  }

  .materia-badge {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    padding: 0.5rem 0.875rem;
    background: rgba(37, 99, 235, 0.08);
    border-radius: 12px;
    border: 1px solid rgba(37, 99, 235, 0.12);
  }

  :global(html.dark) .materia-badge {
    background: rgba(59, 130, 246, 0.15);
    border-color: rgba(59, 130, 246, 0.2);
  }

  .lesson-count {
    font-size: 1.25rem;
    font-weight: 800;
    color: var(--color-primary);
    line-height: 1;
  }

  .lesson-label {
    font-size: 0.6875rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Materia Body */
  .materia-body {
    margin-bottom: 1.5rem;
  }

  .materia-name {
    font-size: 1.5rem;
    font-weight: 800;
    margin: 0 0 0.5rem 0;
    color: var(--text-primary);
    letter-spacing: -0.01em;
  }

  .materia-desc {
    font-size: 0.9375rem;
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.5;
  }

  /* Materia Footer */
  .materia-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 1.25rem;
    border-top: 1px solid var(--border-color, rgba(0,0,0,0.06));
  }

  :global(html.dark) .materia-footer {
    border-top-color: rgba(255,255,255,0.08);
  }

  .explore-text {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--color-primary);
    transition: color 0.3s;
  }

  .explore-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: rgba(37, 99, 235, 0.08);
    border-radius: 10px;
    color: var(--color-primary);
    transition: all 0.3s;
  }

  :global(html.dark) .explore-arrow {
    background: rgba(59, 130, 246, 0.15);
  }

  .materia-card:hover .explore-arrow {
    background: var(--color-primary);
    color: white;
    transform: translateX(4px);
  }

  /* ========================================
     RECENT SECTION
     ======================================== */
  
  .recent-section {
    margin-bottom: 2rem;
  }

  .lessons-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.25rem;
  }

  /* ========================================
     EMPTY STATE
     ======================================== */
  
  .empty-state {
    text-align: center;
    padding: 4rem 2rem;
    background: var(--bg-secondary);
    border-radius: 20px;
    border: 2px dashed var(--border-color, #e2e8f0);
  }

  .empty-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
  }

  .empty-state h2 {
    font-size: 2rem;
    color: var(--text-primary);
    margin: 0 0 0.5rem 0;
  }

  .empty-state > p {
    color: var(--text-secondary);
    font-size: 1.125rem;
    margin: 0 0 2rem 0;
  }

  .empty-instructions {
    text-align: left;
    max-width: 600px;
    margin: 0 auto;
    background: var(--bg-primary);
    padding: 1.5rem;
    border-radius: 12px;
  }

  .empty-instructions h3 {
    font-size: 1rem;
    margin: 0 0 1rem 0;
    color: var(--text-primary);
  }

  .empty-instructions ol {
    margin: 0;
    padding-left: 1.5rem;
  }

  .empty-instructions li {
    margin-bottom: 1rem;
    color: var(--text-secondary);
  }

  .empty-instructions code {
    background: rgba(37, 99, 235, 0.1);
    color: var(--color-primary);
    padding: 0.2em 0.5em;
    border-radius: 4px;
    font-size: 0.875em;
  }

  .empty-instructions pre {
    background: #1e293b;
    color: #e2e8f0;
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.8rem;
    overflow-x: auto;
    margin-top: 0.5rem;
  }

  /* ========================================
     FOOTER - PREMIUM DESIGN
     ======================================== */
  
  .footer {
    background: linear-gradient(135deg, #0a0f1a 0%, #0f172a 50%, #1e293b 100%);
    padding: 4rem 2rem 2rem;
    color: white;
    position: relative;
    overflow: hidden;
  }

  .footer-bg {
    position: absolute;
    inset: 0;
    background-image: 
      radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 80%, rgba(251, 191, 36, 0.08) 0%, transparent 50%);
    pointer-events: none;
  }

  .footer-content {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }

  .footer-main {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 2.5rem;
  }

  .footer-brand {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
  }

  .footer-logo-wrapper {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
  }

  .footer-logo {
    font-size: 1.5rem;
  }

  .footer-brand-text {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  .footer-name {
    font-size: 1.5rem;
    font-weight: 800;
    background: linear-gradient(90deg, #fbbf24, #f59e0b);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
  }

  .footer-tagline {
    font-size: 0.8125rem;
    color: rgba(255,255,255,0.6);
    margin: 0;
  }

  .footer-desc {
    max-width: 400px;
    color: rgba(255,255,255,0.6);
    font-size: 0.9375rem;
    line-height: 1.6;
    margin: 0;
  }

  .footer-bottom {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 2rem;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .footer-copyright {
    margin: 0;
    color: rgba(255,255,255,0.4);
    font-size: 0.8125rem;
  }

  .footer-links {
    display: flex;
    gap: 2rem;
  }

  .footer-links a {
    color: rgba(255,255,255,0.6);
    font-size: 0.875rem;
    text-decoration: none;
    transition: color 0.2s;
  }

  .footer-links a:hover {
    color: white;
    text-decoration: none;
  }

  /* ========================================
     RESPONSIVE DESIGN
     ======================================== */
  
  @media (max-width: 1024px) {
    .materias-grid {
      grid-template-columns: 1fr;
    }

    .lessons-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 768px) {
    .hero {
      padding: 3rem 1rem 3.5rem;
    }

    .hero-title {
      font-size: 1.75rem;
    }

    .hero-subtitle {
      font-size: 0.9375rem;
    }

    .hero-social {
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .social-link {
      padding: 0.4rem 0.875rem;
      font-size: 0.75rem;
    }

    .hero-cta {
      flex-direction: column;
      align-items: center;
    }

    .btn-primary,
    .btn-secondary {
      width: 100%;
      max-width: 300px;
      justify-content: center;
    }

    .hero-stats {
      flex-direction: column;
      gap: 1rem;
      padding: 1.5rem 2rem;
    }

    .stat-divider {
      width: 60px;
      height: 1px;
    }

    .main-content {
      padding: 2.5rem 1rem;
    }

    .section-title {
      font-size: 1.625rem;
    }

    .materia-card {
      padding: 1.5rem;
    }

    .materia-icon-wrapper {
      width: 56px;
      height: 56px;
    }

    .materia-name {
      font-size: 1.25rem;
    }

    .lessons-grid {
      grid-template-columns: 1fr;
    }

    .footer-bottom {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }
  }

  @media (max-width: 480px) {
    .hero {
      padding: 2rem 0.875rem 2.5rem;
    }

    .hero-badge {
      padding: 0.4rem 0.875rem;
      font-size: 0.8125rem;
    }

    .hero-title {
      font-size: 1.5rem;
    }

    .hero-subtitle {
      font-size: 0.875rem;
    }

    .social-link span {
      display: none;
    }

    .social-link {
      padding: 0.5rem;
      border-radius: 50%;
    }

    .main-content {
      padding: 2rem 0.75rem;
    }

    .section-title {
      font-size: 1.375rem;
    }

    .materia-card {
      padding: 1.25rem;
      border-radius: 16px;
    }

    .materia-header {
      margin-bottom: 1rem;
    }

    .materia-icon-wrapper {
      width: 48px;
      height: 48px;
      border-radius: 12px;
    }

    .materia-icon {
      font-size: 1.5rem;
    }

    .materia-name {
      font-size: 1.125rem;
    }

    .footer {
      padding: 3rem 1rem 1.5rem;
    }
  }
</style>
